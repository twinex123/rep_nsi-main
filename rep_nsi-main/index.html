<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NSI 2024</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.13.2/themes/base/jquery-ui.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js"></script>
</head>
<body>
    <div id="desktop">
        <div class="desktop-icon" id="folder-icon">
            <img src="assets/images/icons/folder.png" alt="Folder" />
            <p>Travail</p>
        </div>
        <div class="desktop-icon" id="terminal-icon">
            <img src="assets/images/icons/cmd.png" alt="Terminal" />
            <p>Terminal</p>
        </div>
        <div class="desktop-icon" id="notepad-icon">
            <img src="assets/images/icons/notepad.png" alt="Bloc-notes" />
            <p>Bloc-notes</p>
        </div>
        <div class="desktop-icon" id="iexplorer-icon">
            <img src="assets/images/icons/iexplorer.png" alt="Internet Explorer" />
            <p>Internet</p>
        </div>
        <div class="desktop-icon" id="snake-icon">
            <img src="assets/images/icons/snake.png" alt="Snake" />
            <p style="margin-left: 10px;">Snake</p>
        </div>

        <div id="taskbar">
            <div id="start-button">
                <img src="assets/images/icons/winxp.png" alt="Start" />
                <span>Start</span>
            </div>
            <div id="taskbar-apps">
            </div>
            <div id="taskbar-time">
                <span id="time">10:30 AM</span>
            </div>
        </div>
        
        <div id="start-menu" class="hidden">
            <div class="start-menu-header" id="menu_username"></div>
            <ul class="start-menu-list">
                <li id="video_li">Video</li>
                <li>Documents</li>
                <li>Settings</li>
                <li>Search</li>
                <li>Help</li>
                <li onclick="shutdownGame()">Déconnexion</li>
            </ul>
        </div>

        <div class="window" id="explorer-window">
            <div class="window-header">
                <span>Mr. Loyd</span>
            </div>
            <div class="window-body">
                <p id="typed-text"></p>
            </div>
        </div>
    </div>

    <div class="applications">

        <div class="wrapper hidden" id="app_video">
            <header>
                Video
                <button class="close-btn" onclick="closeVideo()">X</button>
            </header>
            
            <div class="content">
                <video id="video_presentation" muted>
                    <source src="assets/video/presentation.mp4">
                </video>
            </div>
        </div>
        <div class="wrapper hidden" id="app_notepad">
            <header>
                Bloc-notes
                <button class="close-btn">X</button>
            </header>
            
            <div class="content notepad-content">
                <p>Pour identifier et éliminer la menace, il vous faudra ouvrir le terminal de commandes. Toutes les commandes disponibles seront listées en tapant la commande 'help' dans celui-ci. Votre but est de découvrir d'où provient la connexion non-autorisée, d'identifier l'adresse IP de l'attaquant et de la bannir du serveur. Faites attention, l'adversaire à qui nous avons affaire est expérimenté et pourrait nous jouer des tours.<br>Il vous faudra vous rendre sur internet explorer et entrer l'adresse ip trouvée pour récupérer sa localisation. </p>
            </div>
        </div>
        <div class="wrapper hidden" id="app_filefound">
            <header>
                a_lire_en_cas_de_probleme.txt
                <button class="close-btn">X</button>
            </header>
            
            <div class="content notepad-content">
                <p>
                    Si vous lisez ce message, cela veut dire que vous avez de graves problèmes.
                    <br><br>
                    Appelez le numéro suivant : 311<br>
                    Un agent du Federal Bureau of Investigation vous sera mis à disposition.
                    <br><br>
                    XXXXXXX
                </p>
            </div>
        </div>
        <div class="wrapper hidden" id="app_powershell">
            <header>
                Powershell
                <button class="close-btn">X</button>
            </header>
            
            <div class="content powershell-content">
                <iframe width="150%" height="200%" src="apps/powershell.html"></iframe>    
            </div>
        </div>
        <div class="wrapper hidden snake_wrapper" id="app_snake">
            <header>
                Snake game
                <button class="close-btn">X</button>
            </header>
            
            <div class="content powershell-content">
                <iframe width="100%" height="200%" src="apps/snake/index.html"></iframe>    
            </div>
        </div>
        <div class="wrapper hidden" id="app_iexplorer">
            <header>
                Internet Explorer
                <button class="close-btn">X</button>
            </header>
            
            <div class="content powershell-content" style="height: 50vh;">
                <iframe width="100%" height="100%" src="apps/iexplorer.html"></iframe>    
            </div>
        </div>
        <div class="wrapper hidden" id="app_skype" style="width: 30%;">
            <header>
                Incoming Call from Mr. Loyd
                <button class="close-btn">X</button>
            </header>
            
            <div class="content skype-content">
                <iframe width="100%" height="100%" src="apps/skype.html"></iframe>    
            </div>
        </div>
        <div class="wrapper hidden" id="app_fbi" style="width: 352px; height: 520px;">
            <header>
                F.B.I. Home Page
                <button class="close-btn">X</button>
            </header>
            
            <div class="content fbi-content">
                <iframe height="520px" style="height:520px !important;" width="350px" src="apps/fbi.html"></iframe>    
            </div>
        </div>
        <div class="wrapper hidden" id="app_antivirus" style="z-index: 10; min-width: 60vw !important; height: 65vh !important;">
            <header>
                Antivirus
            </header>
            
            <div class="content antivirus-content">
                <iframe id="antivirus_iframe" height="65vh" width="60vw" style="height:65vh !important; min-width:60vw !important;" data-src="apps/antivirus.html"></iframe>    
            </div>
        </div>

        

    </div>

    <div id="videoContainer" style="display:none;">
        <video id="video" autoplay muted loop>
            <source src="assets/video/strobe.mp4">
        </video>
    </div>
    <div id="shutdown" style="display:none;">
        <video id="shutdownVideo" loop>
            <source src="assets/video/shutdown.mp4">
        </video>
    </div>
    
    <div id="blackScreen">
        <div class="dos">
            <p id="dos_line"></p>
            <p id="command"></p>
            <div id="randomOutput"></div>
        </div>
    </div>

    <div id="soundOverlay">
        <i class="fas fa-volume-mute"></i>
        <p>Cliquez sur le bouton pour activer le son</p>
    </div>

    <script>
        document.getElementById('soundOverlay').addEventListener('click', function() {
            this.style.display = 'none';
        });
    </script>

    <script>
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Control') { 
                console.log("Ctrl")
                window.parent.postMessage({type: 'toggleMenuCtrl'}, '*'); 
            }
        });
    </script>

    <script src="assets/js/script.js"></script>
    <script src="assets/js/iplocation.js"></script>
    <script src="assets/js/engine.js"></script>

</body>
</html>
